<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" 
      lang="es" class="pagFormLogin">
    <head>
        <meta charset="UTF-8" />
        <!--<meta name="viewport" content="width=device-width, initial-scale=1.0" />-->
        <title>Eggenerator</title>
        <link rel="shortcut icon" href="/img/logo-favicon.png" >
        <mvc:resources mapping="/static/**" location="/static/" />
        <link rel="stylesheet" href="/css/css.css" />
        <link rel="stylesheet" href="/css/plantilla.css" />
<!--        <link rel="icon" href="/img/logo-img.jpeg">-->
        
    </head>
    <body onload="navegadorActivo()">
        <section th:replace="/plantilla :: fondo"></section>
        <header th:replace="/plantilla :: header">
        </header>
        <div class="contenedor" id="mainWrap">
            <main>
                <header>
                    <h1>Iniciar sesión</h1>
                </header>
                <form th:action="@{/login}" method="post">

                    <div th:if=${param.error}>
                        <div class="alert alert-danger">Usuario o contraseña
                            inválidos</div>
                    </div>

                    <div th:if=${param.logout}>
                        <div class="alert alert-info">Ha cerrado sesión exitosamente
                        </div>
                    </div>
                    <div>
                        <label for="FormLoginCampoEmail">E-mail</label>
                        <input type="email" name="username" class="controlForm" id="FormLoginCampoEmail" required autofocus="autofocus" placeholder="Digite su email ID">
                    </div>
                    <div>
                        <label for="FormLoginCampoContrasenia">Contraseña</label>
                        <input type="password" name="password" class="controlForm" id="FormLoginCampoContrasenia" required autofocus="autofocus" placeholder="Digite su password">
                    </div>
                    <button type="submit" class="boton boton-primario" value="Iniciar sesión">Iniciar sesión</button>
                    <a th:href="@{/registro}" class="boton">Crear usuario</a>
                </form>
            </main>
        </div>
        <footer th:replace="/plantilla :: footer" id="pie">
        </footer>
    </body>
    <script>

        function navegadorActivo() {
            var active = document.getElementById('iniciarSesion');
            active.classList.add("active");
            console.log("agrego active");
        }

        const list = document.querySelectorAll(".list");
        function activeLink() {
            list.forEach((item) => item.classList.remove("active"));
            this.classList.add("active");
        }
        list.forEach((item) => item.addEventListener("click", activeLink));

        //Javascript del fondo de pantalla -> el tag section

        const colors = ['#06f5bdb3',
            '#f8d951'];


        function createSquare() {
            const section = document.querySelector('section#cuadrados');
            const square = document.createElement('span');

            var size = Math.random() * 50;

            square.style.width = 20 + size + 'px';
            square.style.height = 20 + size + 'px';

            square.style.top = Math.random() * innerHeight + 'px';
            square.style.left = Math.random() * innerWidth + 'px';

            const bg = colors[Math.floor(Math.random() * colors.length)];
            square.style.background = bg;

            section.appendChild(square);

            setTimeout(() => {
                square.remove();
            }, 5000);
        }

        setInterval(createSquare, 150);
    </script>
</html>